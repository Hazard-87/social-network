{"ast":null,"code":"import React from\"react\";import styles from'./Login.module.css';import classes from'../common/FormsControls/FormsControl.module.css';import{Field,reduxForm}from\"redux-form\";import{Input}from\"../common/FormsControls/FormsControl\";import{required}from\"../../utils/validation/validators\";import{login}from'../../redux/auth-reducer';import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";var handleFocus=function handleFocus(event){return event.target.select();};var LoginForm=function LoginForm(props){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:props.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(Field,{placeholder:'email',name:'email',onFocus:handleFocus,component:Input,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(Field,{placeholder:'password',name:'password',type:'password',onFocus:handleFocus,component:Input,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{component:Input,className:styles.checkbox,name:'rememberMe',type:'checkbox'}),\"remember me\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:styles.login},\"Login\")),props.error&&/*#__PURE__*/React.createElement(\"div\",{className:classes.formSummaryError},props.error));};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe);// formData.email = ''\n// formData.password = ''\n};if(props.isAuth){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile/\".concat(props.authorizesUserId)});}return/*#__PURE__*/React.createElement(\"div\",{className:styles.body},/*#__PURE__*/React.createElement(\"div\",{className:styles.wrap},/*#__PURE__*/React.createElement(\"h2\",null,\"Login\"),/*#__PURE__*/React.createElement(LoginReduxForm,{onSubmit:onSubmit})));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,authorizesUserId:state.auth.userId};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["/home/hazard/react/project/01-project/my-app/src/components/Login/Login.jsx"],"names":["React","styles","classes","Field","reduxForm","Input","required","login","connect","Redirect","handleFocus","event","target","select","LoginForm","props","handleSubmit","input","checkbox","error","formSummaryError","LoginReduxForm","form","Login","onSubmit","formData","email","password","rememberMe","isAuth","authorizesUserId","body","wrap","mapStateToProps","state","auth","userId"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from './Login.module.css';\nimport classes from '../common/FormsControls/FormsControl.module.css'\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControl\";\nimport {required} from \"../../utils/validation/validators\";\nimport {login} from '../../redux/auth-reducer'\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\n\nconst handleFocus = (event) => event.target.select();\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div className={styles.input}><Field placeholder={'email'} name={'email'} onFocus={handleFocus}\n                                                 component={Input} validate={[required]}/></div>\n            <div className={styles.input}><Field placeholder={'password'} name={'password'} type={'password'} onFocus={handleFocus}\n                                                 component={Input} validate={[required]}/></div>\n            <div><Field component={Input} className={styles.checkbox} name={'rememberMe'} type={'checkbox'}/>remember\n                me\n            </div>\n            <div>\n                <button className={styles.login}>Login</button>\n            </div>\n            {props.error && <div className={classes.formSummaryError}>\n                {props.error}\n            </div>\n            }\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n        // formData.email = ''\n        // formData.password = ''\n    }\n\n    if(props.isAuth) {\n        return <Redirect to={`/profile/${props.authorizesUserId}`}/>\n    }\n\n        return (\n            <div className={styles.body}>\n                <div className={styles.wrap}>\n                    <h2>Login</h2>\n                    <LoginReduxForm onSubmit={onSubmit}/>\n                </div>\n            </div>\n        )\n    }\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    authorizesUserId: state.auth.userId\n})\nexport default connect(mapStateToProps, {login})(Login)"]},"metadata":{},"sourceType":"module"}