{"ast":null,"code":"import React from\"react\";import styles from'./Login.module.css';import classes from'../common/FormsControls/FormsControl.module.css';import{Field,reduxForm}from\"redux-form\";import{Check,Input,Log,Pass}from\"../common/FormsControls/FormsControl\";import{required}from\"../../utils/validation/validators\";import{login}from'../../redux/auth-reducer';import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";import Button from\"@material-ui/core/Button\";var handleFocus=function handleFocus(event){return event.target.select();};var LoginForm=function LoginForm(props){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:props.handleSubmit,role:\"form\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{name:'email',type:\"email\",onFocus:handleFocus,component:Log,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{name:'password',onFocus:handleFocus,component:Pass,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{component:Check,className:styles.checkbox,name:'rememberMe',type:'checkbox'})),props.captchaUrl&&/*#__PURE__*/React.createElement(\"img\",{src:props.captchaUrl}),props.captchaUrl&&/*#__PURE__*/React.createElement(Field,{placeholder:'captcha',name:'captcha',component:Input,validate:[required]}),/*#__PURE__*/React.createElement(\"div\",{className:styles.login},/*#__PURE__*/React.createElement(Button,{onClick:props.handleSubmit,variant:\"outlined\",color:\"primary\"},\"Login\")),props.error&&/*#__PURE__*/React.createElement(\"div\",{className:classes.formSummaryError},props.error));};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe,formData.captcha);};if(props.isAuth){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}return/*#__PURE__*/React.createElement(\"div\",{className:styles.body},/*#__PURE__*/React.createElement(\"div\",{className:styles.wrap},/*#__PURE__*/React.createElement(LoginReduxForm,{onSubmit:onSubmit,captchaUrl:props.captchaUrl})));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,authorizesUserId:state.auth.userId,captchaUrl:state.auth.captchaUrl};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["/media/hazard/Локальный диск/react/project/react-deploy/src/components/Login/Login.jsx"],"names":["React","styles","classes","Field","reduxForm","Check","Input","Log","Pass","required","login","connect","Redirect","Button","handleFocus","event","target","select","LoginForm","props","handleSubmit","checkbox","captchaUrl","error","formSummaryError","LoginReduxForm","form","Login","onSubmit","formData","email","password","rememberMe","captcha","isAuth","body","wrap","mapStateToProps","state","auth","authorizesUserId","userId"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from './Login.module.css';\nimport classes from '../common/FormsControls/FormsControl.module.css'\nimport {Field, reduxForm} from \"redux-form\";\nimport {Check, Input, Log, Pass} from \"../common/FormsControls/FormsControl\";\nimport {required} from \"../../utils/validation/validators\";\nimport {login} from '../../redux/auth-reducer'\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nconst handleFocus = (event) => event.target.select();\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} role='form'>\n            <div>\n                <Field name={'email'} type='email' onFocus={handleFocus}\n                       component={Log} validate={[required]}/>\n            </div>\n            <div>\n                <Field name={'password'}\n                       onFocus={handleFocus}\n                       component={Pass} validate={[required]}/>\n            </div>\n            <div>\n                    <Field component={Check} className={styles.checkbox} name={'rememberMe'} type={'checkbox'}/>\n            </div>\n\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\n            {props.captchaUrl && <Field placeholder={'captcha'} name={'captcha'}\n                   component={Input} validate={[required]}/>}\n\n            <div className={styles.login}>\n                <Button onClick={props.handleSubmit} variant=\"outlined\" color=\"primary\">Login</Button>\n            </div>\n            {props.error && <div className={classes.formSummaryError}>\n                {props.error}\n            </div>\n            }\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={`/profile`}/>\n    }\n\n    return (\n        <div className={styles.body}>\n            <div className={styles.wrap}>\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    authorizesUserId: state.auth.userId,\n    captchaUrl: state.auth.captchaUrl\n})\nexport default connect(mapStateToProps, {login})(Login)"]},"metadata":{},"sourceType":"module"}