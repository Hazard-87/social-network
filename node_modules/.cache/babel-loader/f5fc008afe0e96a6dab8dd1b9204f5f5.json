{"ast":null,"code":"import React from\"react\";import styles from'./Login.module.css';import classes from'../common/FormsControls/FormsControl.module.css';import{Field,reduxForm}from\"redux-form\";import{Input}from\"../common/FormsControls/FormsControl\";import{required}from\"../../utils/validation/validators\";import{login}from'../../redux/auth-reducer';import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";var handleFocus=function handleFocus(event){return event.target.select();};var LoginForm=function LoginForm(props){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:props.handleSubmit,role:\"form\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{for:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(Field,{placeholder:'email',name:'email',type:\"email\",class:\"form-control\",onFocus:handleFocus,component:Input,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:styles.input},/*#__PURE__*/React.createElement(\"label\",{for:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(Field,{placeholder:'password',name:'password',type:\"password\",class:\"form-control\",onFocus:handleFocus,component:Input,validate:[required]})),/*#__PURE__*/React.createElement(\"div\",{class:\"checkbox\"},/*#__PURE__*/React.createElement(\"label\",{for:\"password\"},/*#__PURE__*/React.createElement(Field,{component:Input,className:styles.checkbox,name:'rememberMe',type:'checkbox'}),\"remember me\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.login},/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-success\"},\"Login\")),props.error&&/*#__PURE__*/React.createElement(\"div\",{className:classes.formSummaryError},props.error));};var LoginReduxForm=reduxForm({form:'login'})(LoginForm);var Login=function Login(props){var onSubmit=function onSubmit(formData){props.login(formData.email,formData.password,formData.rememberMe);};if(props.isAuth){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}return/*#__PURE__*/React.createElement(\"div\",{className:styles.body},/*#__PURE__*/React.createElement(\"div\",{className:styles.wrap},/*#__PURE__*/React.createElement(LoginReduxForm,{onSubmit:onSubmit})));};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,authorizesUserId:state.auth.userId};};export default connect(mapStateToProps,{login:login})(Login);","map":{"version":3,"sources":["/home/hazard/react/project/react-deploy/src/components/Login/Login.jsx"],"names":["React","styles","classes","Field","reduxForm","Input","required","login","connect","Redirect","handleFocus","event","target","select","LoginForm","props","handleSubmit","input","checkbox","error","formSummaryError","LoginReduxForm","form","Login","onSubmit","formData","email","password","rememberMe","isAuth","body","wrap","mapStateToProps","state","auth","authorizesUserId","userId"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iDAApB,CACA,OAAQC,KAAR,CAAeC,SAAf,KAA+B,YAA/B,CACA,OAAQC,KAAR,KAAoB,sCAApB,CACA,OAAQC,QAAR,KAAuB,mCAAvB,CACA,OAAQC,KAAR,KAAoB,0BAApB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,MAAN,CAAaC,MAAb,EAAX,EAApB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CACzB,mBACI,4BAAM,QAAQ,CAAEA,KAAK,CAACC,YAAtB,CAAoC,IAAI,CAAC,MAAzC,eACI,4CACI,6BAAO,GAAG,CAAC,OAAX,UADJ,cAEI,oBAAC,KAAD,EAAO,WAAW,CAAE,OAApB,CAA6B,IAAI,CAAE,OAAnC,CAA4C,IAAI,CAAC,OAAjD,CAAyD,KAAK,CAAC,cAA/D,CAA8E,OAAO,CAAEN,WAAvF,CACO,SAAS,CAAEL,KADlB,CACyB,QAAQ,CAAE,CAACC,QAAD,CADnC,EAFJ,CADJ,cAMI,2BAAK,SAAS,CAAEL,MAAM,CAACgB,KAAvB,eACI,6BAAO,GAAG,CAAC,UAAX,aADJ,cAEI,oBAAC,KAAD,EAAO,WAAW,CAAE,UAApB,CAAgC,IAAI,CAAE,UAAtC,CAAkD,IAAI,CAAC,UAAvD,CAAkE,KAAK,CAAC,cAAxE,CACO,OAAO,CAAEP,WADhB,CAEO,SAAS,CAAEL,KAFlB,CAEyB,QAAQ,CAAE,CAACC,QAAD,CAFnC,EAFJ,CANJ,cAYI,2BAAK,KAAK,CAAC,UAAX,eACI,6BAAO,GAAG,CAAC,UAAX,eACI,oBAAC,KAAD,EAAO,SAAS,CAAED,KAAlB,CAAyB,SAAS,CAAEJ,MAAM,CAACiB,QAA3C,CAAqD,IAAI,CAAE,YAA3D,CAAyE,IAAI,CAAE,UAA/E,EADJ,eADJ,CAZJ,cAkBI,2BAAK,SAAS,CAAEjB,MAAM,CAACM,KAAvB,eACI,8BAAQ,KAAK,CAAC,iBAAd,UADJ,CAlBJ,CAqBKQ,KAAK,CAACI,KAAN,eAAe,2BAAK,SAAS,CAAEjB,OAAO,CAACkB,gBAAxB,EACXL,KAAK,CAACI,KADK,CArBpB,CADJ,CA4BH,CA7BD,CA+BA,GAAME,CAAAA,cAAc,CAAGjB,SAAS,CAAC,CAACkB,IAAI,CAAE,OAAP,CAAD,CAAT,CAA2BR,SAA3B,CAAvB,CACA,GAAMS,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACR,KAAD,CAAW,CACrB,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC3BV,KAAK,CAACR,KAAN,CAAYkB,QAAQ,CAACC,KAArB,CAA4BD,QAAQ,CAACE,QAArC,CAA+CF,QAAQ,CAACG,UAAxD,EACH,CAFD,CAIA,GAAIb,KAAK,CAACc,MAAV,CAAkB,CACd,mBAAO,oBAAC,QAAD,EAAU,EAAE,WAAZ,EAAP,CACH,CAED,mBACI,2BAAK,SAAS,CAAE5B,MAAM,CAAC6B,IAAvB,eACI,2BAAK,SAAS,CAAE7B,MAAM,CAAC8B,IAAvB,eACI,oBAAC,cAAD,EAAgB,QAAQ,CAAEP,QAA1B,EADJ,CADJ,CADJ,CAOH,CAhBD,CAkBA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAChCJ,MAAM,CAAEI,KAAK,CAACC,IAAN,CAAWL,MADa,CAEhCM,gBAAgB,CAAEF,KAAK,CAACC,IAAN,CAAWE,MAFG,CAAZ,EAAxB,CAIA,cAAe5B,CAAAA,OAAO,CAACwB,eAAD,CAAkB,CAACzB,KAAK,CAALA,KAAD,CAAlB,CAAP,CAAkCgB,KAAlC,CAAf","sourcesContent":["import React from \"react\";\nimport styles from './Login.module.css';\nimport classes from '../common/FormsControls/FormsControl.module.css'\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControl\";\nimport {required} from \"../../utils/validation/validators\";\nimport {login} from '../../redux/auth-reducer'\nimport {connect} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\n\nconst handleFocus = (event) => event.target.select();\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} role='form'>\n            <div>\n                <label for='email'>Email</label>\n                <Field placeholder={'email'} name={'email'} type='email' class='form-control' onFocus={handleFocus}\n                       component={Input} validate={[required]}/>\n            </div>\n            <div className={styles.input}>\n                <label for='password'>Password</label>\n                <Field placeholder={'password'} name={'password'} type='password' class='form-control'\n                       onFocus={handleFocus}\n                       component={Input} validate={[required]}/>\n            </div>\n            <div class='checkbox'>\n                <label for='password'>\n                    <Field component={Input} className={styles.checkbox} name={'rememberMe'} type={'checkbox'}/>\n                    remember me\n                </label>\n            </div>\n            <div className={styles.login}>\n                <button class='btn btn-success'>Login</button>\n            </div>\n            {props.error && <div className={classes.formSummaryError}>\n                {props.error}\n            </div>\n            }\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={`/profile`}/>\n    }\n\n    return (\n        <div className={styles.body}>\n            <div className={styles.wrap}>\n                <LoginReduxForm onSubmit={onSubmit}/>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    authorizesUserId: state.auth.userId\n})\nexport default connect(mapStateToProps, {login})(Login)"]},"metadata":{},"sourceType":"module"}