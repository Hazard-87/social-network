{"ast":null,"code":"import _classCallCheck from\"/media/hazard/\\u041B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0434\\u0438\\u0441\\u043A/react/project/react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/hazard/\\u041B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0434\\u0438\\u0441\\u043A/react/project/react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/media/hazard/\\u041B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0434\\u0438\\u0441\\u043A/react/project/react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/media/hazard/\\u041B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0434\\u0438\\u0441\\u043A/react/project/react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Profile from\"./Profile\";import{getProfile,getStatus,savePhoto,saveProfile,setUserProfile,updateStatus}from\"../../redux/profileReducer\";import{connect}from\"react-redux\";import{withRouter}from\"react-router-dom\";import{withAuthRedirect}from\"../../hoc/withAuthRedirect\";import{compose}from\"redux\";var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);var _super=_createSuper(ProfileContainer);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _super.apply(this,arguments);}_createClass(ProfileContainer,[{key:\"refreshProfile\",value:function refreshProfile(){var userId=this.props.match.params.userId;if(!userId){userId=this.props.authorizesUserId;}this.props.getProfile(userId);this.props.getStatus(userId);}},{key:\"componentDidMount\",value:function componentDidMount(){this.refreshProfile();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.props.match.params.userId!=prevProps.match.params.userId){this.refreshProfile();}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Profile,Object.assign({},this.props,{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,authorizesUserId:state.auth.userId,isAuth:state.auth.isAuth};};export default compose(connect(mapStateToProps,{setUserProfile:setUserProfile,getProfile:getProfile,getStatus:getStatus,updateStatus:updateStatus,savePhoto:savePhoto,saveProfile:saveProfile}),withRouter,withAuthRedirect)(ProfileContainer);","map":{"version":3,"sources":["/media/hazard/Локальный диск/react/project/react-deploy/src/components/Profile/ProfileContainer.jsx"],"names":["React","Profile","getProfile","getStatus","savePhoto","saveProfile","setUserProfile","updateStatus","connect","withRouter","withAuthRedirect","compose","ProfileContainer","userId","props","match","params","authorizesUserId","refreshProfile","prevProps","prevState","snapshot","profile","status","Component","mapStateToProps","state","profilePage","auth","isAuth"],"mappings":"46BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAAQC,UAAR,CAAoBC,SAApB,CAA+BC,SAA/B,CAAyCC,WAAzC,CAAsDC,cAAtD,CAAsEC,YAAtE,KAAyF,4BAAzF,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,gBAAR,KAA+B,4BAA/B,CACA,OAAQC,OAAR,KAAsB,OAAtB,C,GAGMC,CAAAA,gB,4TACe,CACb,GAAIC,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAArC,CACA,GAAI,CAACA,MAAL,CAAa,CACTA,MAAM,CAAG,KAAKC,KAAL,CAAWG,gBAApB,CACH,CACD,KAAKH,KAAL,CAAWZ,UAAX,CAAsBW,MAAtB,EACA,KAAKC,KAAL,CAAWX,SAAX,CAAqBU,MAArB,EACH,C,6DAEmB,CAChB,KAAKK,cAAL,GACH,C,8DAEkBC,S,CAAWC,S,CAAWC,Q,CAAU,CAC/C,GAAI,KAAKP,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAAxB,EAAkCM,SAAS,CAACJ,KAAV,CAAgBC,MAAhB,CAAuBH,MAA7D,CAAqE,CACjE,KAAKK,cAAL,GACH,CACJ,C,uCAEQ,CACL,mBAAO,oBAAC,OAAD,kBAAa,KAAKJ,KAAlB,EACS,SAAS,CAAE,KAAKA,KAAL,CAAWV,SAD/B,CAES,OAAO,CAAE,CAAC,KAAKU,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAF3C,CAGS,OAAO,CAAE,KAAKC,KAAL,CAAWQ,OAH7B,CAIS,MAAM,CAAE,KAAKR,KAAL,CAAWS,MAJ5B,CAKS,YAAY,CAAE,KAAKT,KAAL,CAAWP,YALlC,GAAP,CAMH,C,8BA3B0BP,KAAK,CAACwB,S,EA8BrC,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAC9BJ,OAAO,CAAEI,KAAK,CAACC,WAAN,CAAkBL,OADG,CAE9BC,MAAM,CAAEG,KAAK,CAACC,WAAN,CAAkBJ,MAFI,CAG9BN,gBAAgB,CAAES,KAAK,CAACE,IAAN,CAAWf,MAHC,CAI9BgB,MAAM,CAAEH,KAAK,CAACE,IAAN,CAAWC,MAJW,CAAZ,EAAtB,CAQA,cAAelB,CAAAA,OAAO,CAClBH,OAAO,CAACiB,eAAD,CAAkB,CAACnB,cAAc,CAAdA,cAAD,CAAiBJ,UAAU,CAAVA,UAAjB,CAA6BC,SAAS,CAATA,SAA7B,CAAwCI,YAAY,CAAZA,YAAxC,CAAsDH,SAAS,CAATA,SAAtD,CAAiEC,WAAW,CAAXA,WAAjE,CAAlB,CADW,CAElBI,UAFkB,CAGlBC,gBAHkB,CAAP,CAIbE,gBAJa,CAAf","sourcesContent":["import React from 'react';\nimport Profile from \"./Profile\";\nimport {getProfile, getStatus, savePhoto,saveProfile, setUserProfile, updateStatus} from \"../../redux/profileReducer\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\nclass ProfileContainer extends React.Component {\n    refreshProfile() {\n        let userId = this.props.match.params.userId\n        if (!userId) {\n            userId = this.props.authorizesUserId\n        }\n        this.props.getProfile(userId)\n        this.props.getStatus(userId)\n    }\n\n    componentDidMount() {\n        this.refreshProfile()\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\n            this.refreshProfile()\n        }\n    }\n\n    render() {\n        return <Profile {...this.props}\n                        savePhoto={this.props.savePhoto}\n                        isOwner={!this.props.match.params.userId}\n                        profile={this.props.profile}\n                        status={this.props.status}\n                        updateStatus={this.props.updateStatus}/>\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizesUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\n\nexport default compose(\n    connect(mapStateToProps, {setUserProfile, getProfile, getStatus, updateStatus, savePhoto, saveProfile}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)"]},"metadata":{},"sourceType":"module"}