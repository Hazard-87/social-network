{"ast":null,"code":"import _slicedToArray from\"/home/hazard/react/project/react-deploy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import styles from'./MyProfile.module.css';import Preloader from\"../../common/Preloader/Preloader\";import ProfileStatusWithHooks from\"./ProfileStatusWithHooks\";import userPhoto from'../../../assets/images/user.png';import ProfileDataForm from\"./ProfileDataForm\";var MyProfile=function MyProfile(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];if(!props.profile.photos){return/*#__PURE__*/React.createElement(Preloader,null);}var onSelectedPhoto=function onSelectedPhoto(e){if(e.target.files.length){props.savePhoto(e.target.files[0]);}};var onSubmit=function onSubmit(formData){props.saveProfile(formData).then(function(){setEditMode(false);});};return/*#__PURE__*/React.createElement(\"div\",{className:styles.content},/*#__PURE__*/React.createElement(\"div\",{class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{class:\"col-6\",className:styles.avatar},/*#__PURE__*/React.createElement(\"img\",{src:!props.profile.photos.large?userPhoto:props.profile.photos.large}),props.isOwner&&/*#__PURE__*/React.createElement(\"div\",{className:styles.button},/*#__PURE__*/React.createElement(\"label\",{class:\"btn\"},\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E \",/*#__PURE__*/React.createElement(\"input\",{name:\"file\",type:\"file\",onChange:onSelectedPhoto,hidden:true})))),/*#__PURE__*/React.createElement(\"div\",{class:\"col-6\",className:styles.profile},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,props.profile.fullName)),/*#__PURE__*/React.createElement(ProfileStatusWithHooks,Object.assign({},props,{status:props.status,updateStatus:props.updateStatus})),editMode?/*#__PURE__*/React.createElement(ProfileDataForm,Object.assign({initialValues:props.profile,onSubmit:onSubmit},props)):/*#__PURE__*/React.createElement(ProfileData,Object.assign({onEditMode:function onEditMode(){setEditMode(true);}},props)))));};var ProfileData=function ProfileData(props){return/*#__PURE__*/React.createElement(\"div\",null,props.isOwner&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{class:\"btn btn-default\",onClick:props.onEditMode},\"edit profile\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Looking for a job\"),\": \",props.profile.lookingForAJob?'Yes':'No',\" \"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"My professional skills\"),\": \",props.profile.lookingForAJobDescription),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"About me\"),\": \",props.profile.aboutMe),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Contacts\"),\": \",Object.keys(props.profile.contacts).map(function(key){return/*#__PURE__*/React.createElement(Contact,{key:key,contactTitle:key,contactValue:props.profile.contacts[key]});})));};export var Contact=function Contact(_ref){var contactTitle=_ref.contactTitle,contactValue=_ref.contactValue;return/*#__PURE__*/React.createElement(\"div\",{className:styles.contact},/*#__PURE__*/React.createElement(\"b\",null,contactTitle),\": \",/*#__PURE__*/React.createElement(\"a\",{href:contactValue},contactValue));};export default MyProfile;","map":{"version":3,"sources":["/home/hazard/react/project/react-deploy/src/components/Profile/MyProfile/MyProfile.jsx"],"names":["React","useState","styles","Preloader","ProfileStatusWithHooks","userPhoto","ProfileDataForm","MyProfile","props","editMode","setEditMode","profile","photos","onSelectedPhoto","e","target","files","length","savePhoto","onSubmit","formData","saveProfile","then","content","avatar","large","isOwner","button","fullName","status","updateStatus","ProfileData","onEditMode","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","map","key","Contact","contactTitle","contactValue","contact"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport styles from './MyProfile.module.css';\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport userPhoto from '../../../assets/images/user.png';\nimport ProfileDataForm from \"./ProfileDataForm\";\n\n\nconst MyProfile = (props) => {\n\n    const [editMode, setEditMode] = useState(false)\n\n    if (!props.profile.photos) {\n        return <Preloader/>\n    }\n\n    const onSelectedPhoto = (e) => {\n        if (e.target.files.length) {\n            props.savePhoto(e.target.files[0])\n        }\n    }\n    const onSubmit = (formData) => {\n        props.saveProfile(formData).then( () => {\n            setEditMode(false)\n        })\n    }\n\n    return (\n        <div className={styles.content}>\n            <div class='row'>\n                <div class='col-6' className={styles.avatar}>\n                    <img src={!props.profile.photos.large ? userPhoto : props.profile.photos.large}/>\n                    {props.isOwner &&\n                    <div className={styles.button}>\n                        <label class=\"btn\">\n                            Сменить фото <input name='file' type=\"file\" onChange={onSelectedPhoto} hidden/>\n                        </label>\n                    </div>\n                    }\n                </div>\n                <div class='col-6' className={styles.profile}>\n                    <div><b>{props.profile.fullName}</b></div>\n                    <ProfileStatusWithHooks {...props} status={props.status} updateStatus={props.updateStatus}/>\n                    {editMode\n                        ? <ProfileDataForm initialValues={props.profile} onSubmit={onSubmit} {...props}/>\n                        : <ProfileData onEditMode={() => {\n                            setEditMode(true)\n                        }} {...props}/>}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst ProfileData = (props) => {\n    return <div>\n        {props.isOwner && <div>\n            <button class='btn btn-default' onClick={props.onEditMode}>edit profile</button>\n        </div>}\n        {/*<div><b>Full name: {props.profile.fullName}</b></div>*/}\n        <div><b>Looking for a job</b>: {props.profile.lookingForAJob ? 'Yes' : 'No'} </div>\n        <div><b>My professional skills</b>: {props.profile.lookingForAJobDescription}</div>\n        <div><b>About me</b>: {props.profile.aboutMe}</div>\n        <div><b>Contacts</b>: {Object.keys(props.profile.contacts).map(key => {\n                return <Contact key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\n            }\n        )}\n        </div>\n    </div>\n}\n\nexport const Contact = ({contactTitle, contactValue}) => {\n    return <div className={styles.contact}><b>{contactTitle}</b>: <a href={contactValue}>{contactValue}</a></div>\n}\n\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}