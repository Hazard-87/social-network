{"ast":null,"code":"import { profileAPI, usersAPI } from \"../api/api\";\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nlet initialState = {\n  posts: [{\n    id: 3,\n    post: 'Hi, how are you?',\n    likesCount: 5\n  }, {\n    id: 2,\n    post: 'It\\'s my first post',\n    likesCount: 32\n  }, {\n    id: 1,\n    post: 'I\\'m learn react from it-kamasutra.com',\n    likesCount: 3\n  }],\n  profile: [],\n  status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        return { ...state,\n          posts: [...state.posts, {\n            id: 4,\n            post: action.newPostBody,\n            likesCount: 0\n          }]\n        };\n      }\n\n    case SET_USER_PROFILE:\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case SET_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const getProfile = userId => async dispatch => {\n  let response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\nexport const getStatus = userId => async dispatch => {\n  let response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const updateStatus = status => async dispatch => {\n  let response = await profileAPI.updateStatus(status);\n\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\nexport const savePhoto = file => async dispatch => {\n  let response = await profileAPI.savePhoto(file); // if (response.data.resultCode === 0) {\n  //     dispatch(setPhoto(status))\n  // }\n};\nexport const addPostAC = newPostBody => ({\n  type: 'ADD-POST',\n  newPostBody\n});\nexport const setUserProfile = profile => ({\n  type: 'SET_USER_PROFILE',\n  profile\n});\nexport const setStatus = status => ({\n  type: 'SET_STATUS',\n  status\n});\nexport default profileReducer;","map":{"version":3,"sources":["/home/hazard/react/project/react-deploy/src/redux/profileReducer.js"],"names":["profileAPI","usersAPI","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","post","likesCount","profile","status","profileReducer","state","action","type","newPostBody","getProfile","userId","dispatch","response","setUserProfile","data","getStatus","setStatus","updateStatus","resultCode","savePhoto","file","addPostAC"],"mappings":"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","sourcesContent":["import {profileAPI, usersAPI} from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_STATUS = 'SET_STATUS'\n\nlet initialState = {\n    posts: [\n        {id: 3, post: 'Hi, how are you?', likesCount: 5},\n        {id: 2, post: 'It\\'s my first post', likesCount: 32},\n        {id: 1, post: 'I\\'m learn react from it-kamasutra.com', likesCount: 3},\n    ],\n    profile: [],\n    status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            return {\n                ...state,\n                posts: [...state.posts, {id: 4, post: action.newPostBody, likesCount: 0}]\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state, status: action.status\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const getProfile = (userId) => async (dispatch) => {\n    let response = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n    }\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n    let response = await profileAPI.savePhoto(file)\n    // if (response.data.resultCode === 0) {\n    //     dispatch(setPhoto(status))\n    // }\n}\n\nexport const addPostAC = (newPostBody) => ({type: 'ADD-POST', newPostBody})\nexport const setUserProfile = (profile) => ({type: 'SET_USER_PROFILE', profile})\nexport const setStatus = (status) => ({type: 'SET_STATUS', status})\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}