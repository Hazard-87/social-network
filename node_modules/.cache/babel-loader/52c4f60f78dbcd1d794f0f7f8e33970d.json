{"ast":null,"code":"import { profileAPI, usersAPI } from \"../api/api\";\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nlet initialState = {\n  posts: [{\n    id: 3,\n    post: 'Hi, how are you?',\n    likesCount: 5\n  }, {\n    id: 2,\n    post: 'It\\'s my first post',\n    likesCount: 32\n  }, {\n    id: 1,\n    post: 'I\\'m learn react from it-kamasutra.com',\n    likesCount: 3\n  }],\n  profile: [],\n  status: ''\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      {\n        return { ...state,\n          posts: [{\n            id: 4,\n            post: action.newPostBody,\n            likesCount: 0\n          }, ...state.posts]\n        };\n      }\n\n    case SET_USER_PROFILE:\n      {\n        return { ...state,\n          profile: action.profile\n        };\n      }\n\n    case SET_STATUS:\n      {\n        return { ...state,\n          status: action.status\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const getProfile = userId => dispatch => {\n  usersAPI.getProfile(userId).then(response => {\n    dispatch(setUserProfile(response.data));\n  });\n};\nexport const getStatus = userId => dispatch => {\n  profileAPI.getStatus(userId).then(response => {\n    dispatch(setStatus(response.data));\n  });\n};\nexport const updateStatus = status => dispatch => {\n  profileAPI.updateStatus(status).then(response => {\n    if (response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n    }\n  });\n};\nexport const addPostAC = newPostBody => ({\n  type: 'ADD-POST',\n  newPostBody\n});\nexport const setUserProfile = profile => ({\n  type: 'SET_USER_PROFILE',\n  profile\n});\nexport const setStatus = status => ({\n  type: 'SET_STATUS',\n  status\n});\nexport default profileReducer;","map":{"version":3,"sources":["/home/hazard/react/project/01-project/my-app/src/redux/profileReducer.js"],"names":["profileAPI","usersAPI","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","post","likesCount","profile","status","profileReducer","state","action","type","newPostBody","getProfile","userId","dispatch","then","response","setUserProfile","data","getStatus","setStatus","updateStatus","resultCode","addPostAC"],"mappings":"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","sourcesContent":["import {profileAPI, usersAPI} from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_STATUS = 'SET_STATUS'\n\nlet initialState = {\n    posts: [\n        {id: 3, post: 'Hi, how are you?', likesCount: 5},\n        {id: 2, post: 'It\\'s my first post', likesCount: 32},\n        {id: 1, post: 'I\\'m learn react from it-kamasutra.com', likesCount: 3},\n    ],\n    profile: [],\n    status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            return {\n                ...state,\n                posts: [{id: 4, post: action.newPostBody, likesCount: 0}, ...state.posts]\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state, profile: action.profile\n            }\n        }\n        case SET_STATUS: {\n            return {\n                ...state, status: action.status\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const getProfile = (userId) => (dispatch) => {\n    usersAPI.getProfile(userId).then(response => {\n        dispatch(setUserProfile(response.data))\n    })\n}\n\n\nexport const getStatus = (userId) => (dispatch) => {\n    profileAPI.getStatus(userId)\n        .then(response => {\n            dispatch(setStatus(response.data))\n        })\n}\n\n\nexport const updateStatus = (status) => (dispatch) => {\n    profileAPI.updateStatus(status).then(response => {\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status))\n        }\n    })\n}\n\nexport const addPostAC = (newPostBody) => ({type: 'ADD-POST', newPostBody})\nexport const setUserProfile = (profile) => ({type: 'SET_USER_PROFILE', profile})\nexport const setStatus = (status) => ({type: 'SET_STATUS', status})\nexport default profileReducer;"]},"metadata":{},"sourceType":"module"}