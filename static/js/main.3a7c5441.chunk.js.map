{"version":3,"sources":["components/common/Preloader/Preloader.jsx","utils/validation/validators.js","components/Nav/Nav.module.css","redux/dialogsReducer.js","redux/usersReducer.js","assets/images/Preloader.svg","components/common/Preloader/Preloader.module.css","components/Nav/Friends/Friends.module.css","api/api.js","components/Header/Header.module.css","redux/sidebarReducer.js","redux/auth-reducer.ts","redux/app-reducer.ts","redux/redux-store.js","hoc/withSuspense.js","components/Feeds/Feeds.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Nav/Friends/Friends.jsx","components/Nav/Nav.jsx","components/Header/Header.jsx","components/Nav/NavContainer.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","components/Login/Login.module.css","components/common/FormsControls/FormsControl.js","components/common/FormsControls/FormsControl.module.css","redux/profileReducer.js"],"names":["Preloader","props","src","preloader","className","classes","spinner","required","value","module","exports","initialState","dialogs","id","name","ava","messages","message","addMessageCreateAction","newMessageBody","type","dialogsReducer","state","action","users","pageSize","totalPageCount","currentPage","isFetching","followingInProgress","requestUsers","dispatch","a","toggleIsFetching","usersAPI","getUsers","data","console","log","items","setUsers","setTotalPageCount","totalCount","requestMoreUsers","nextPage","setMoreUsers","follow","userId","toggleFollowingProgress","getFollow","resultCode","followAccept","unfollow","getUnfollow","unfollowAccept","setCurrentPage","usersReducer","map","u","followed","concat","filter","instance","axios","baseURL","withCredentials","headers","get","then","response","post","delete","getAuth","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","friends","sidebarReducer","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","initialized","appReducer","reducers","combineReducers","messagesPage","profilePage","profileReducer","sidebar","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","withSuspense","Component","fallback","Feeds","Music","Settings","Friends","this","React","Nav","friendsElements","friend","index","key","nav","item","to","activeClassName","active","Header","connect","authorizesUserId","photos","onClick","HeaderContainer","handleFocus","event","target","select","LoginReduxForm","reduxForm","onSubmit","handleSubmit","styles","input","Field","placeholder","onFocus","component","Input","validate","checkbox","error","formSummaryError","lengrth","stopSubmit","_error","body","wrap","MessagesContainer","lazy","ProfileContainer","UsersContainer","Layout","Content","Footer","Sider","SubMenu","Menu","App","collapsed","onCollapse","setState","initializeApp","style","minHeight","collapsible","theme","defaultSelectedKeys","mode","icon","large","title","Item","PieChartOutlined","setEditMode","DesktopOutlined","TeamOutlined","UserOutlined","FileOutlined","padding","margin","path","render","textAlign","compose","withRouter","editMode","Promise","all","ReactDOM","document","getElementById","Element","meta","hasError","touched","formControl","Textarea","posts","likesCount","setUserProfile","setStatus","savePhotoSuccess","getState","reject","addPostAC","newPostBody"],"mappings":"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","file":"static/js/main.3a7c5441.chunk.js","sourcesContent":["import preloader from \"../../../assets/images/Preloader.svg\";\r\nimport classes from './Preloader.module.css'\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n    return <img src={preloader} className={classes.spinner}/>\r\n}\r\n\r\nexport default Preloader;","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n        return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2b_5K\",\"item\":\"Nav_item__2PSud\",\"active\":\"Nav_active__3P5nb\"};","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 2,\r\n            name: 'Polina',\r\n            ava: 'http://www.youloveit.ru/uploads/posts/2018-03/1520168825_youloveit_ru_ariana_grande_emoji_avatarki01.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Alina',\r\n            ava: 'https://trikky.ru/wp-content/blogs.dir/1/files/2018/06/1520168801_youloveit_ru_ariana_grande_emoji_avatarki18.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Evelina',\r\n            ava: 'http://www.youloveit.ru/uploads/posts/2018-03/1520168814_youloveit_ru_ariana_grande_emoji_avatarki09.jpg'\r\n        },\r\n        { id: 5, name: 'Papa', ava: 'https://steepbend.ru/wp-content/uploads/2013/04/Avatarki.jpg' },\r\n        {\r\n            id: 6,\r\n            name: 'Mama',\r\n            ava: 'http://www.youloveit.ru/uploads/posts/2018-06/1528544211_youloveit_ru_avatarki_disney_princessy_ralf_protiv_interneta03.png'\r\n        },\r\n        { id: 7, name: 'Max', ava: 'https://1message.ru/wp-content/uploads/2017/03/ustanovka-avatarki7.jpg' },\r\n        { id: 8, name: 'Brat', ava: 'https://download-cs.net/steam/avatars/3412.jpg' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'На Avatarko.ru', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' },\r\n        { id: 2, message: 'Паблик в котором💜', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' },\r\n        { id: 3, message: 'Hi', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' },\r\n        { id: 4, message: 'I\\'m norm', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' },\r\n        { id: 5, message: 'I\\'m learn a react', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' },\r\n        { id: 6, message: 'Perfect', ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg' }\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {\r\n                    id: 8, message: action.newMessageBody, ava: 'https://gg-pro.ru/files/avatars/1564818111.jpg'\r\n                }]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageCreateAction = (newMessageBody) => ({ type: 'ADD-MESSAGE', newMessageBody })\r\n\r\nexport default dialogsReducer;","import {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_MORE_USERS = 'SET_MORE_USERS'\r\nconst SET_СURRENT_PAGE = 'SET_СURRENT_PAGE'\r\nconst SET_TOTAL_PAGE_COUNT = 'SET_TOTAL_PAGE_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalPageCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW :\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW :\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_MORE_USERS: {\r\n            let users = state.users.concat(action.users)\r\n            return {...state, users: users}\r\n        }\r\n        case SET_СURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_PAGE_COUNT: {\r\n            return {...state, totalPageCount: action.totalPageCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        console.log(data.items)\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalPageCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const requestMoreUsers = (nextPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        let data = await usersAPI.getUsers(nextPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setMoreUsers(data.items))\r\n        dispatch(setTotalPageCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let data = await usersAPI.getFollow(userId)\r\n        if (data.resultCode == 0) {\r\n            dispatch(followAccept(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n       let data = await usersAPI.getUnfollow(userId)\r\n            if (data.resultCode == 0) {\r\n                dispatch(unfollowAccept(userId))\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const followAccept = (userId) => ({type: 'FOLLOW', userId})\r\nexport const unfollowAccept = (userId) => ({type: 'UNFOLLOW', userId})\r\nexport const setUsers = (users) => ({type: 'SET_USERS', users})\r\nexport const setMoreUsers = (users) => ({type: 'SET_MORE_USERS', users})\r\nexport const setCurrentPage = (currentPage) => ({type: 'SET_СURRENT_PAGE', currentPage})\r\nexport const setTotalPageCount = (totalPageCount) => ({type: 'SET_TOTAL_PAGE_COUNT', totalPageCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: 'TOGGLE_IS_FETCHING', isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: 'TOGGLE_IS_FOLLOWING_PROGRESS',\r\n    isFetching,\r\n    userId\r\n})\r\nexport default usersReducer;","module.exports = __webpack_public_path__ + \"static/media/Preloader.353ee385.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Preloader_spinner__2jXgN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1AS7p\"};","import * as axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"e48e9649-c731-4063-bdca-82c75640897b\"}\r\n    // headers: {\"API-KEY\": \"d347e033-1c2d-465d-899e-93fbe631170a\"}\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getFollow(id) {\r\n        return instance.post(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getUnfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(file) {\r\n        const formData = new FormData()\r\n        formData.append('image', file)\r\n        return instance.put(`profile/photo`, formData\r\n        )\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe = false, captcha= null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Header_login__3r5FA\",\"log\":\"Header_log__2BAiZ\"};","let initialState = {friends: [\r\n        {\r\n            id: 1,\r\n            name: 'Polina',\r\n            ava: 'http://www.youloveit.ru/uploads/posts/2018-03/1520168825_youloveit_ru_ariana_grande_emoji_avatarki01.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Alina',\r\n            ava: 'https://trikky.ru/wp-content/blogs.dir/1/files/2018/06/1520168801_youloveit_ru_ariana_grande_emoji_avatarki18.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Evelina',\r\n            ava: 'http://www.youloveit.ru/uploads/posts/2018-03/1520168814_youloveit_ru_ariana_grande_emoji_avatarki09.jpg'\r\n        }\r\n    ]}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nexport type InitialStateType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetAuthUserDataActionPayloadType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\ntype SetAuthUserDataActionType = {\r\n    type: typeof SET_USER_DATA\r\n    payload: SetAuthUserDataActionPayloadType\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean): SetAuthUserDataActionType => ({\r\n    type: 'SET_USER_DATA',\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport type GetCaptchaUrlSuccessActionType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS\r\n    payload: { captchaUrl: string }\r\n}\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessActionType => ({\r\n    type: 'GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}\r\n})\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n        let response = await authAPI.me()\r\n\r\n        if (response.data.resultCode === 0) {\r\n            let {id, email, login} = response.data.data\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n    }\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.lengrth > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n    const response = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch: any) => {\r\n        let response = await authAPI.logout()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype InitializedSuccessActionType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nexport const initializedSuccess = (): InitializedSuccessActionType => ({type: 'INITIALIZED_SUCCESS'})\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    Promise.all([dispatch(getAuthUserData())]).then(() => {\r\n       dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    messagesPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}","import React from 'react';\r\nimport classes from './Feeds.module.css';\r\n\r\nconst Feeds = () => {\r\n    return (\r\n        <div>\r\n            Feeds\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Feeds;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n           Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport classes from \"./Friends.module.css\";\r\n\r\n\r\n\r\n// const Friends = (props) => {\r\n//\r\n//         return (\r\n//         <div>\r\n//             <div className={classes.friends}>\r\n//                 <img src={props.ava}/> {props.name}\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\nclass Friends extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className={classes.friends}>\r\n                    <img src={this.props.ava}/> {this.props.name}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport classes from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"./Friends/Friends\";\r\n// import classNames from 'classnames';\r\n\r\nconst Nav = (props) => {\r\n    const friendsElements = () => {\r\n        props.friends.map((friend, index) => <Friends key={index} name={friend.name} ava={friend.ava}/>)\r\n    }\r\n\r\n        return (\r\n            <nav className={classes.nav}>\r\n\r\n                <div className={classes.item}><NavLink to='/friends'\r\n                                                       activeClassName={classes.active}>Friends</NavLink>\r\n                </div>\r\n                {friendsElements}\r\n            </nav>\r\n        )\r\n    }\r\n\r\n\r\nexport default Nav;","// import React from 'react';\r\n// import styles from './Header.module.css';\r\n// import {NavLink} from \"react-router-dom\";\r\n// import Button from '@material-ui/core/Button';\r\n// import ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\n// import Grow from '@material-ui/core/Grow';\r\n// import Paper from '@material-ui/core/Paper';\r\n// import Popper from '@material-ui/core/Popper';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import MenuList from '@material-ui/core/MenuList';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import Divider from \"@material-ui/core/Divider\";\r\n//\r\n// const useStyles = makeStyles((theme) => ({\r\n//     root: {\r\n//         display: 'flex',\r\n//     },\r\n//     paper: {\r\n//         marginRight: theme.spacing(2),\r\n//     },\r\n// }));\r\n//\r\n// const Header = (props) => {\r\n//     if (!props.profile.photos) {\r\n//         props.profile.photos = ''\r\n//     }\r\n//\r\n//     const classes = useStyles();\r\n//\r\n//     const [open, setOpen] = React.useState(false);\r\n//     const anchorRef = React.useRef(null);\r\n//\r\n//     const handleToggle = () => {\r\n//         setOpen((prevOpen) => !prevOpen);\r\n//     };\r\n//\r\n//     const handleClose = (event) => {\r\n//         if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n//             return;\r\n//         }\r\n//\r\n//         setOpen(false);\r\n//     };\r\n//\r\n//     function handleListKeyDown(event) {\r\n//         if (event.key === 'Tab') {\r\n//             event.preventDefault();\r\n//             setOpen(false);\r\n//         }\r\n//     }\r\n//\r\n//     const prevOpen = React.useRef(open);\r\n//     React.useEffect(() => {\r\n//         if (prevOpen.current === true && open === false) {\r\n//             anchorRef.current.focus();\r\n//         }\r\n//\r\n//         prevOpen.current = open;\r\n//     }, [open]);\r\n//\r\n// const onEditMode = () => {\r\n//     props.setEditMode(true)\r\n//     }\r\n//\r\n//     return (\r\n//         <header className={styles.header}>\r\n//             <img src='http://pngimg.com/uploads/vkontakte/vkontakte_PNG31.png'/>\r\n//             <div className={styles.login}>\r\n//                 {props.isAuth\r\n//                     ? <div>\r\n//                     <div className={classes.root}>\r\n//                             <div>\r\n//                                 <Button\r\n//                                     ref={anchorRef}\r\n//                                     aria-controls={open ? 'menu-list-grow' : undefined}\r\n//                                     aria-haspopup=\"true\"\r\n//                                     onClick={handleToggle}\r\n//                                 >\r\n//                                     <span><img src={props.profile.photos.small}/></span>\r\n//                                 </Button>\r\n//                                 <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n//                                     {({ TransitionProps, placement }) => (\r\n//                                         <Grow\r\n//                                             {...TransitionProps}\r\n//                                             style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n//                                         >\r\n//                                             <Paper>\r\n//                                                 <ClickAwayListener onClickAway={handleClose}>\r\n//                                                     <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n//                                                         <MenuItem onClick={onEditMode}>Edit Profile</MenuItem>\r\n//                                                         <Divider />\r\n//                                                         <MenuItem onClick={props.logout}>Logout</MenuItem>\r\n//                                                     </MenuList>\r\n//                                                 </ClickAwayListener>\r\n//                                             </Paper>\r\n//                                         </Grow>\r\n//                                     )}\r\n//                                 </Popper>\r\n//                             </div>\r\n//                         </div>\r\n//                     </div>\r\n//                     : <div className={styles.log}><NavLink to={'/login'}>login</NavLink></div>}\r\n//             </div>\r\n//         </header>\r\n//     )\r\n// }\r\n//\r\n// export default Header\r\n\r\n\r\nimport React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    if (!props.profile.photos) {\r\n        props.profile.photos = ''\r\n    }\r\n    return (\r\n            <div>\r\n                {props.isAuth\r\n                    ? <div><span>{props.login}</span>\r\n                        <button onClick={props.logout}>log out</button>\r\n                    </div>\r\n                    : <NavLink to={'/login'}>Sign In</NavLink>}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Nav from \"./Nav\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.sidebar.friends,\r\n        authorizesUserId: state.auth.userId\r\n    }\r\n}\r\nconst NavContainer = connect(mapStateToProps)(Nav)\r\n\r\nexport default NavContainer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout, setAuthUserData} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    userId: state.auth.userId,\r\n    email: state.auth.email,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n    profile: state.profilePage.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, {setAuthUserData, logout})(HeaderContainer);","// import React from \"react\";\r\n// import styles from './Login.module.css';\r\n// import classes from '../common/FormsControls/FormsControl.module.css'\r\n// import {Field, reduxForm} from \"redux-form\";\r\n// import {Check, Input, Log, Pass} from \"../common/FormsControls/FormsControl\";\r\n// import {required} from \"../../utils/validation/validators\";\r\n// import {login} from '../../redux/auth-reducer'\r\n// import {connect} from \"react-redux\";\r\n// import {Redirect} from \"react-router-dom\";\r\n// import Button from \"@material-ui/core/Button\";\r\n//\r\n// const handleFocus = (event) => event.target.select();\r\n//\r\n// const LoginForm = (props) => {\r\n//     return (\r\n//         <form onSubmit={props.handleSubmit} role='form'>\r\n//             <div>\r\n//                 <Field name={'email'} type='email' onFocus={handleFocus}\r\n//                        component={Log} validate={[required]}/>\r\n//             </div>\r\n//             <div>\r\n//                 <Field name={'password'}\r\n//                        onFocus={handleFocus}\r\n//                        component={Pass} validate={[required]}/>\r\n//             </div>\r\n//             <div>\r\n//                     <Field component={Check} className={styles.checkbox} name={'rememberMe'} type={'checkbox'}/>\r\n//             </div>\r\n//\r\n//             {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n//             {props.captchaUrl && <Field placeholder={'captcha'} name={'captcha'}\r\n//                    component={Input} validate={[required]}/>}\r\n//\r\n//             <div className={styles.login}>\r\n//                 <Button onClick={props.handleSubmit} variant=\"outlined\" color=\"primary\">Login</Button>\r\n//             </div>\r\n//             {props.error && <div className={classes.formSummaryError}>\r\n//                 {props.error}\r\n//             </div>\r\n//             }\r\n//         </form>\r\n//     )\r\n// }\r\n//\r\n// const LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n// const Login = (props) => {\r\n//     const onSubmit = (formData) => {\r\n//         props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n//     }\r\n//\r\n//     if (props.isAuth) {\r\n//         return <Redirect to={`/profile`}/>\r\n//     }\r\n//\r\n//     return (\r\n//         <div className={styles.body}>\r\n//             <div className={styles.wrap}>\r\n//                 <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n//\r\n// const mapStateToProps = (state) => ({\r\n//     isAuth: state.auth.isAuth,\r\n//     authorizesUserId: state.auth.userId,\r\n//     captchaUrl: state.auth.captchaUrl\r\n// })\r\n// export default connect(mapStateToProps, {login})(Login)\r\n\r\nimport React from 'react';\r\nimport styles from './Login.module.css';\r\nimport classes from '../common/FormsControls/FormsControl.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../common/FormsControls/FormsControl';\r\nimport { required } from '../../utils/validation/validators';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst handleFocus = (event) => event.target.select();\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={styles.input}>\r\n                <Field\r\n                    placeholder={'email'}\r\n                    name={'email'}\r\n                    onFocus={handleFocus}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n            </div>\r\n            <div className={styles.input}>\r\n                <Field\r\n                    placeholder={'password'}\r\n                    name={'password'}\r\n                    type={'password'}\r\n                    onFocus={handleFocus}\r\n                    component={Input}\r\n                    validate={[required]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    component={Input}\r\n                    className={styles.checkbox}\r\n                    name={'rememberMe'}\r\n                    type={'checkbox'}\r\n                />\r\n                remember me\r\n            </div>\r\n\r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n            {props.captchaUrl && <Field placeholder={'captcha'} name={'captcha'}\r\n                                        component={Input} validate={[required]}/>}\r\n\r\n            <div>\r\n                <button className={styles.login}>Login</button>\r\n            </div>\r\n            {props.error && <div className={classes.formSummaryError}>{props.error}</div>}\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n        // formData.email = ''\r\n        // formData.password = ''\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={`/profile/`} />;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.body}>\r\n            <div className={styles.wrap}>\r\n                <h2>Login</h2>\r\n                <LoginReduxForm onSubmit={onSubmit} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    authorizesUserId: state.auth.userId,\r\n});\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, { Suspense } from 'react';\r\nimport { withRouter, BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport Feeds from './components/Feeds/Feeds';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport NavContainer from './components/Nav/NavContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\n\r\nimport { Layout, Menu, Breadcrumb, Image, Avatar } from 'antd';\r\nimport {\r\n  DesktopOutlined,\r\n  PieChartOutlined,\r\n  FileOutlined,\r\n  TeamOutlined,\r\n  UserOutlined,\r\n} from '@ant-design/icons';\r\nimport { logout } from './redux/auth-reducer';\r\nimport { setEditMode } from './redux/profileReducer';\r\n\r\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n\r\n  state = {\r\n    collapsed: false,\r\n  };\r\n\r\n  onCollapse = (collapsed) => {\r\n    this.setState({ collapsed });\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />;\r\n    }\r\n    const { collapsed } = this.state;\r\n\r\n    const onEditMode = () => {\r\n      this.props.setEditMode(true);\r\n    };\r\n    return (\r\n      <Router>\r\n        <Layout style={{ minHeight: '100vh' }}>\r\n          <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\r\n            <div className=\"logo\" />\r\n            <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n              {!this.props.isAuth ? (\r\n                <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\r\n                  <Link to={'/login'}>Sign In</Link>\r\n                </Menu.Item>\r\n              ) : (\r\n                <SubMenu\r\n                  key=\"sub1\"\r\n                  icon={\r\n                    <Avatar\r\n                      src={\r\n                        <Image src={this.props.profile.photos && this.props.profile.photos.large} />\r\n                      }\r\n                    />\r\n                  }\r\n                  title={this.props.login}>\r\n                  <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\r\n                    <Link to={`/profile`}>My profile</Link>\r\n                  </Menu.Item>\r\n                  <Menu.Item key=\"2\">\r\n                    <Link onClick={onEditMode} to={`/profile`}>\r\n                      Edit profile\r\n                    </Link>\r\n                  </Menu.Item>\r\n                  <Menu.Item onClick={this.props.logout} key=\"3\">\r\n                    logout\r\n                  </Menu.Item>\r\n                </SubMenu>\r\n              )}\r\n\r\n              <Menu.Item key=\"4\" icon={<DesktopOutlined />}>\r\n                <Link to=\"/messages\">Messages</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"5\" icon={<TeamOutlined />}>\r\n                <Link to=\"/users\">Users</Link>\r\n              </Menu.Item>\r\n              <SubMenu key=\"sub2\" icon={<UserOutlined />} title=\"Settings\">\r\n                <Menu.Item key=\"6\">\r\n                  <Link to=\"/settings\">Settings</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"7\">option 1</Menu.Item>\r\n              </SubMenu>\r\n              <Menu.Item key=\"8\" icon={<FileOutlined />}>\r\n                <Link to=\"/feeds\">Feeds</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"9\" icon={<FileOutlined />}>\r\n                <Link to=\"/music\">Music</Link>\r\n              </Menu.Item>\r\n            </Menu>\r\n          </Sider>\r\n          <Layout className=\"site-layout\">\r\n            <Header className=\"site-layout-background\" style={{ padding: 0 }} />\r\n            <Content style={{ margin: '0 16px' }}>\r\n              <Breadcrumb style={{ margin: '16px 0' }}>\r\n                <Breadcrumb.Item>User</Breadcrumb.Item>\r\n                <Breadcrumb.Item>Bill</Breadcrumb.Item>\r\n              </Breadcrumb>\r\n              <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\r\n                <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)} />\r\n                <Route path=\"/feeds\" render={() => <Feeds />} />\r\n                <Route path=\"/messages\" render={withSuspense(MessagesContainer)} />\r\n                <Route path=\"/music\" render={() => <Music />} />\r\n                <Route path=\"/users\" render={withSuspense(UsersContainer)} />\r\n                <Route path=\"/settings\" render={() => <Settings />} />\r\n                <Route path=\"/login\" render={() => <Login />} />\r\n              </div>\r\n            </Content>\r\n            <Footer style={{ textAlign: 'center' }}>Hazard Design ©2021 Created by Home</Footer>\r\n          </Layout>\r\n        </Layout>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n  login: state.auth.login,\r\n  editMode: state.profilePage.editMode,\r\n  profile: state.profilePage.profile,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp, logout, setEditMode }),\r\n)(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport './index.css';\r\nimport store from './redux/redux-store';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Login_wrap__27vUa\"};","import React from \"react\";\r\nimport styles from './FormsControl.module.css'\r\n\r\nconst Element = Element => ({ input, meta, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={ styles.formControl + \" \" + (hasError ? styles.error : \"\") }>\r\n            <Element {...input} {...props} />\r\n            { hasError && <span> { meta.error } </span> }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = Element(\"textarea\")\r\nexport const Input = Element(\"input\")","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__vdUzH\",\"error\":\"FormsControl_error__LQdlV\",\"formSummaryError\":\"FormsControl_formSummaryError__1DkQ2\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\nconst SET_EDIT_MODE = 'SET_EDIT_MODE'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 3, post: 'Hi, how are you?', likesCount: 5},\r\n        {id: 2, post: 'It\\'s my first post', likesCount: 32},\r\n        {id: 1, post: 'I\\'m learn react from it-kamasutra.com', likesCount: 3},\r\n    ],\r\n    profile: [],\r\n    status: '',\r\n    editMode: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 4, post: action.newPostBody, likesCount: 0}]\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        case SET_EDIT_MODE: {\r\n            return {\r\n                ...state, editMode: action.data\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n        // dispatch(stopSubmit(\"edit-profile\", {\"contacts\" : {'facebook': response.data.messages[0]}}))\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostBody) => ({type: 'ADD-POST', newPostBody})\r\nexport const setUserProfile = (profile) => ({type: 'SET_USER_PROFILE', profile})\r\nexport const setStatus = (status) => ({type: 'SET_STATUS', status})\r\nexport const savePhotoSuccess = (photos) => ({type: 'SAVE_PHOTO_SUCCESS', photos})\r\nexport const setEditMode = (data) => ({type: 'SET_EDIT_MODE', data})\r\n\r\nexport default profileReducer;"],"sourceRoot":""}